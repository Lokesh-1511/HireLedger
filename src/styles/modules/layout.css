/* Layout, sidebar, navbar, main regions */
@layer layout {
.layout-root {
	display:block;
	min-height:100dvh;
	background:linear-gradient(180deg,rgba(243,244,246,0.96) 0%,rgba(243,244,246,0.92) 40%,rgba(243,244,246,0.88) 100%);
}

.top-nav {
	position:fixed;
	top:0;
	right:0;
	left:var(--sidebar-width);
	height:var(--nav-height);
	display:flex;
	align-items:center;
	gap:1rem;
	padding:0 clamp(1.25rem,3vw,2.75rem);
	border-bottom:1px solid color-mix(in srgb,var(--color-border) 60%,transparent);
	background:rgba(255,255,255,0.82);
	backdrop-filter:blur(18px) saturate(160%);
	box-shadow:0 12px 40px -20px rgba(17,24,39,0.35);
	z-index:70;
}
.sidebar-collapsed .top-nav { left:var(--sidebar-width-collapsed); padding-left: clamp(1.1rem,3vw,2.5rem); }
[data-theme='dark'] .top-nav { background:rgba(17,24,39,0.88); box-shadow:0 18px 40px -18px rgba(0,0,0,0.65); }

.sidebar {
	position:fixed;
	top:var(--nav-height);
	left:0;
	bottom:0;
	width:var(--sidebar-width);
	background:linear-gradient(180deg,#0f172a 0%,#132035 45%,#15263d 100%);
	border-right:1px solid rgba(15,23,42,0.35);
	padding:1.5rem 1.25rem 2.5rem;
	display:flex;
	flex-direction:column;
	gap:1.25rem;
	overflow-y:auto;
	color:rgba(255,255,255,0.82);
	box-shadow:12px 0 28px -22px rgba(15,23,42,0.55);
	transition:width var(--transition-base), transform var(--transition-base), background var(--transition-base);
}
[data-theme='dark'] .sidebar { background:linear-gradient(180deg,#0b1220 0%,#0f172a 45%,#0f172a 100%); border-right-color:rgba(148,163,184,0.25); }
.sidebar.collapsed { width:var(--sidebar-width-collapsed); }
.sidebar-nav { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.6rem; }
.sidebar-nav .sidebar-item,
.sidebar-nav .sidebar-link { position:relative; display:flex; align-items:center; gap:.75rem; padding:.7rem .95rem; border-radius:var(--radius-md); color:rgba(255,255,255,0.7); font-size:.85rem; font-weight:600; letter-spacing:.3px; transition:background var(--transition-fast), color var(--transition-fast), transform var(--transition-fast); }
.sidebar-nav .sidebar-item .icon,
.sidebar-nav .sidebar-link .icon { font-size:1.15rem; }
.sidebar-nav .sidebar-item:hover,
.sidebar-nav .sidebar-link:hover { color:#fff; background:rgba(59,130,246,0.18); transform:translateX(2px); }
.sidebar-nav .sidebar-link.active,
.sidebar-nav .sidebar-item.active { color:#fff; background:var(--color-primary); box-shadow:0 12px 30px -16px rgba(59,130,246,0.55); }
.sidebar-nav .sidebar-link.active::after { content:""; position:absolute; inset:6px 12px; border-radius:inherit; border:1px solid rgba(255,255,255,0.35); }
.sidebar.collapsed .sidebar-item .label,
.sidebar.collapsed .sidebar-link .label { display:none; }
@media (max-width:960px){
	.top-nav,
	.sidebar-collapsed .top-nav { left:0; width:100%; }
	.sidebar { transform:translateX(-100%); box-shadow:var(--shadow-lg); }
	.sidebar.open { transform:translateX(0); }
}

.sidebar-mobile-open .sidebar { transform:translateX(0) !important; z-index:140; box-shadow:0 0 0 100vmax rgba(15,23,42,0.35); }
.sidebar-overlay { position:fixed; inset:0; background:rgba(15,23,42,0.35); backdrop-filter:blur(4px); z-index:100; }

.main {
	margin-top:var(--nav-height);
	margin-left:var(--sidebar-width);
	padding:2.25rem clamp(1.5rem,3vw,3rem) 3rem;
	min-height:calc(100dvh - var(--nav-height));
	transition:margin-left var(--transition-base), padding var(--transition-fast);
}
.sidebar-collapsed .main { margin-left:var(--sidebar-width-collapsed); }
@media (max-width:960px){
	.main,
	.sidebar-collapsed .main { margin-left:0; padding:calc(var(--nav-height) + 1rem) clamp(1.1rem,4vw,1.75rem) 3.5rem; }
}
}
