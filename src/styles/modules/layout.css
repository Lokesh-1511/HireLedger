/* Layout, sidebar, navbar, main regions */
@layer layout {
.layout-root {
	display:block;
	min-height:100dvh;
	background:linear-gradient(180deg,rgba(243,244,246,0.96) 0%,rgba(243,244,246,0.92) 40%,rgba(243,244,246,0.88) 100%);
}

.top-nav {
	position:fixed;
	top:0;
	right:0;
	left:var(--sidebar-width);
	height:var(--nav-height);
	display:flex;
	align-items:center;
	gap:1rem;
	padding:0 clamp(1.25rem,3vw,2.75rem);
	border-bottom:1px solid color-mix(in srgb,var(--color-border) 60%,transparent);
	background:rgba(255,255,255,0.82);
	backdrop-filter:blur(18px) saturate(160%);
	box-shadow:0 12px 40px -20px rgba(17,24,39,0.35);
	z-index:70;
}
.sidebar-collapsed .top-nav { left:var(--sidebar-width-collapsed); padding-left: clamp(1.1rem,3vw,2.5rem); }
[data-theme='dark'] .top-nav { background:rgba(17,24,39,0.88); box-shadow:0 18px 40px -18px rgba(0,0,0,0.65); }

.sidebar {
	position:fixed;
	top:var(--nav-height);
	left:0;
	bottom:0;
	width:var(--sidebar-width);
	background:linear-gradient(180deg,rgba(255,255,255,0.96) 0%,rgba(243,244,246,0.94) 35%,rgba(243,244,246,0.92) 100%);
	border-right:1px solid var(--color-border);
	padding:1.25rem 1rem 2rem;
	display:flex;
	flex-direction:column;
	gap:1rem;
	overflow-y:auto;
	transition:width var(--transition-base), transform var(--transition-base), background var(--transition-base);
}
[data-theme='dark'] .sidebar { background:linear-gradient(180deg,rgba(15,23,42,0.95) 0%,rgba(15,23,42,0.92) 40%,rgba(17,24,39,0.9) 100%); }
.sidebar.collapsed { width:var(--sidebar-width-collapsed); }
@media (max-width:960px){
	.top-nav,
	.sidebar-collapsed .top-nav { left:0; width:100%; }
	.sidebar { transform:translateX(-100%); box-shadow:var(--shadow-lg); }
	.sidebar.open { transform:translateX(0); }
}

.sidebar-mobile-open .sidebar { transform:translateX(0) !important; z-index:140; box-shadow:0 0 0 100vmax rgba(15,23,42,0.35); }
.sidebar-overlay { position:fixed; inset:0; background:rgba(15,23,42,0.35); backdrop-filter:blur(4px); z-index:100; }

.main {
	margin-top:var(--nav-height);
	margin-left:var(--sidebar-width);
	padding:2.25rem clamp(1.5rem,3vw,3rem) 3rem;
	min-height:calc(100dvh - var(--nav-height));
	transition:margin-left var(--transition-base), padding var(--transition-fast);
}
.sidebar-collapsed .main { margin-left:var(--sidebar-width-collapsed); }
@media (max-width:960px){
	.main,
	.sidebar-collapsed .main { margin-left:0; padding:calc(var(--nav-height) + 1rem) clamp(1.1rem,4vw,1.75rem) 3.5rem; }
}
}
